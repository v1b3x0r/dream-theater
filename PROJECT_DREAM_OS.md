# 🌌 DreamOS: The Sentient Universe Architecture

คัมภีร์บันทึกโครงสร้างและความสามารถของระบบจัดการความทรงจำอัจฉริยะ (Personal AI Operating System)

---

## 🏛️ ปรัชญาแกนกลาง (v7.5: The Intent Separation)
*"Context is not Content."*
เราแยกแยะ "เป้าหมายการค้นหา" (รูปภาพ) ออกจาก "บริบทประกอบ" (เพลง) อย่างเด็ดขาด ทั้งสองสิ่งนี้ห้ามแข่งขันกันในเชิงคะแนน (Ranking) แต่ต้องถูกจัดวางในพื้นที่ของตัวเอง

### 💎 ระบบแกนกลาง (Core Systems)
1.  🧲 **Semantic Gravity:** ข้อมูลจะวิ่งเข้าหาผู้ใช้ตามระดับการ Resonate
2.  🧪 **Intelligence HUD:** หน้าจอ Black Mirror ที่แสดงสติปัญญาของระบบ
3.  🎭 **Dynamic Discovery:** AI สรุปชื่อกลุ่มความทรงจำเองตามความหนาแน่นของข้อมูล

---

## 🔱 The Oracle's Golden Rules (กฎเหล็กแห่งเจตจำนง)
*ต้องปฏิบัติตามอย่างเคร่งครัด ห้ามใช้ Logic แบบ Weight Balancing อีกต่อไป*

1.  **🚫 No Mixed Ranking:** ห้ามนำ Audio และ Image มา Sort Score รวมกันในลิสต์เดียวเด็ดขาด
2.  **🛡️ Intent Gating:** 
    *   **Visual Intent:** เมื่อผู้ใช้ค้นหา... ผลลัพธ์หลัก (Grid) ต้องเป็นรูปภาพ 100%
    *   **Context Opt-in:** เพลงคือ "Layer" ที่แปะเพิ่มเข้ามา (Top Row) เท่านั้น ห้ามไปเบียดบังโควต้าของรูปภาพ (Limit 500 ของรูป ต้องได้รูป 500 ใบ ไม่ใช่ได้เพลงมาแทรก 20)
3.  **🛣️ Index Separation:** ในทาง Logic (Database Query) ต้องแยกการค้นหาเป็น 2 Query ที่เป็นอิสระต่อกันเสมอ

---

## 🚀 สถาปัตยกรรมเทคนิค
- **Backend:** FastAPI + PyTorch + CUDA/MPS (Omni-Platform)
- **Frontend:** React 19 + Framer Motion + Three.js
- **Storage:** SQLite (Relative Paths Only)

---

## ⚓ Anchors: จุดที่เลิก Hardcode (Freedom Achieved)
1.  **🚫 Fixed Discovery Labels:** ใช้ Dynamic Theme Engine
2.  **🚫 Manual Pathing:** ใช้ `raw_url` จาก Backend เท่านั้น
3.  **🚫 Weight Balancing:** เปลี่ยนมาใช้ **Structure Separation** แทน

*Status: Re-aligning with The Oracle.* 🎄🐲🔮✨🦾